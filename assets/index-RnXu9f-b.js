(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();const d=document.documentElement;function l(e){d.setAttribute("data-theme",e),localStorage.setItem("dk_theme",e);const n=document.querySelector(".theme-icon");n&&(n.textContent=e==="light"?"☾":"☀")}function a(){const e=localStorage.getItem("dk_theme");if(e==="light"||e==="dark")return l(e);const n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;l(n?"dark":"light")}function u(){const e=document.getElementById("progressBar");if(!e)return;const n=()=>{const r=document.documentElement,i=r.scrollTop||document.body.scrollTop,t=(r.scrollHeight||document.body.scrollHeight)-r.clientHeight,o=t>0?i/t*100:0;e.style.width=`${o}%`};n(),window.addEventListener("scroll",n,{passive:!0}),window.addEventListener("resize",n)}function m(){const e=document.getElementById("backToTop");if(!e)return;const n=()=>{const r=window.scrollY||document.documentElement.scrollTop;e.classList.toggle("show",r>600)};n(),window.addEventListener("scroll",n,{passive:!0}),e.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}))}function g(){const e=document.getElementById("navToggle"),n=document.getElementById("primaryNav");if(!e||!n)return;const r=()=>{n.classList.remove("open"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Open menu")};e.addEventListener("click",()=>{const i=n.classList.toggle("open");e.setAttribute("aria-expanded",String(i)),e.setAttribute("aria-label",i?"Close menu":"Open menu")}),n.querySelectorAll("a").forEach(i=>i.addEventListener("click",r)),window.addEventListener("keydown",i=>{i.key==="Escape"&&r()})}function f(){const e=document.getElementById("testiTrack"),n=document.getElementById("testiPrev"),r=document.getElementById("testiNext");if(!e||!n||!r)return;const i=Array.from(e.children);let t=0;const o=c=>{t=(c+i.length)%i.length,e.style.transform=`translateX(-${t*100}%)`};n.addEventListener("click",()=>o(t-1)),r.addEventListener("click",()=>o(t+1));let s=setInterval(()=>o(t+1),6500);[n,r,e].forEach(c=>{c.addEventListener("mouseenter",()=>clearInterval(s)),c.addEventListener("mouseleave",()=>s=setInterval(()=>o(t+1),6500))})}function p(){const e=document.getElementById("year");e&&(e.textContent=String(new Date().getFullYear()))}function h(){const e=document.getElementById("fakeSubmit");e&&e.addEventListener("click",()=>{alert("Wire this button to Formspree / Netlify Forms / your API endpoint.")})}document.addEventListener("DOMContentLoaded",()=>{a(),document.getElementById("themeToggle")?.addEventListener("click",()=>{const e=d.getAttribute("data-theme")||"light";l(e==="light"?"dark":"light")}),u(),m(),g(),f(),p(),h()});
