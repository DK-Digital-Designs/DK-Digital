(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const d=document.documentElement;function l(e){d.setAttribute("data-theme",e),localStorage.setItem("dk_theme",e);const t=document.querySelector(".theme-icon");t&&(t.textContent=e==="light"?"☾":"☀")}function a(){const e=localStorage.getItem("dk_theme");if(e==="light"||e==="dark")return l(e);const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;l(t?"dark":"light")}function u(){const e=document.getElementById("progressBar");if(!e)return;const t=()=>{const o=document.documentElement,i=o.scrollTop||document.body.scrollTop,n=(o.scrollHeight||document.body.scrollHeight)-o.clientHeight,r=n>0?i/n*100:0;e.style.width=`${r}%`};t(),window.addEventListener("scroll",t,{passive:!0}),window.addEventListener("resize",t)}function m(){const e=document.getElementById("backToTop");if(!e)return;const t=()=>{const o=window.scrollY||document.documentElement.scrollTop;e.classList.toggle("show",o>600)};t(),window.addEventListener("scroll",t,{passive:!0}),e.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}))}function g(){const e=document.getElementById("navToggle"),t=document.getElementById("primaryNav");if(!e||!t)return;const o=()=>{t.classList.remove("open"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Open menu")};e.addEventListener("click",()=>{const i=t.classList.toggle("open");e.setAttribute("aria-expanded",String(i)),e.setAttribute("aria-label",i?"Close menu":"Open menu")}),t.querySelectorAll("a").forEach(i=>i.addEventListener("click",o)),window.addEventListener("keydown",i=>{i.key==="Escape"&&o()})}function f(){const e=document.getElementById("testiTrack"),t=document.getElementById("testiPrev"),o=document.getElementById("testiNext");if(!e||!t||!o)return;const i=Array.from(e.children);let n=0;const r=c=>{n=(c+i.length)%i.length,e.style.transform=`translateX(-${n*100}%)`};t.addEventListener("click",()=>r(n-1)),o.addEventListener("click",()=>r(n+1));let s=setInterval(()=>r(n+1),6500);[t,o,e].forEach(c=>{c.addEventListener("mouseenter",()=>clearInterval(s)),c.addEventListener("mouseleave",()=>s=setInterval(()=>r(n+1),6500))})}function h(){const e=document.getElementById("year");e&&(e.textContent=String(new Date().getFullYear()))}function p(){const e=document.getElementById("fakeSubmit");e&&e.addEventListener("click",()=>{alert("Wire this button to Formspree / Netlify Forms / your API endpoint.")})}function v(){const e=new IntersectionObserver(t=>{t.forEach(o=>{o.isIntersecting&&(o.target.classList.add("active"),e.unobserve(o.target))})},{threshold:.1});document.querySelectorAll(".reveal").forEach(t=>e.observe(t))}document.addEventListener("DOMContentLoaded",()=>{a(),document.getElementById("themeToggle")?.addEventListener("click",()=>{const e=d.getAttribute("data-theme")||"light";l(e==="light"?"dark":"light")}),u(),m(),g(),f(),h(),p(),v()});
